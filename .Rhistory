library(afltables)
get_team_year_tables("Eagles", 2018)
library(afltables)
get_team_year_tables("Eagles", 2018)
library(afltables)
get_team_year_tables("Eagles", 2018)
library(xml2)
webpage = read_html(url)
library(afltables)
webpage = read_html(url)
library(afltables)
webpage = read_html(url)
library(afltables)
get_team_year_tables("Eagles", 2018)
library(afltables)
get_team_year_tables("Adelaide", 2018)
library(afltables)
get_team_year_tables("Adelaide", 2018)
site_name = which(site_teams == "Adelaide")
site_name
site_teams
site_name = which(site_teams == "adelaide")
site_name
site_name = which(teams == "adelaide")
site_name
library(afltables)
get_team_year_tables("Adelaide", 2018)
library(afltables)
get_team_year_tables("Adelaide", 2018)
for(team in teams){
print(team)
}
for(year in 2017:2018){
for(team in teams){
get_team_year_tables(team, year)
}
}
Q
library(afltables)
for(year in 2017:2018){
for(team in teams){
get_team_year_tables(team, year)
}
}
for(year in 2017:2018){
for(team in teams){
get_team_year_tables(team, year)
}
}
library(afltables)
all_teams_players(2018)
library(afltables)
all_teams_players(2018)
Q
library(afltables)
all_teams_players(2018)
library(afltables)
all_teams_players(2018)
webpage = get_team_year_tables('kicks', 2018)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage = )
get_game_statistics('kicks', webpage)
library(dplyr)
get_game_statistics('kicks', webpage)
library(afltables)
library(afltables)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
Q
Q
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
q()
install(afltables)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage)
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage,'adelaide')
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage,'adelaide')
team
adelaide
exists(adelaide)
exists(get('adelaide'))
exists(paste0(get('adelaide')))
exists('adelaide')
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage,'adelaide')
adelaide
exists("adelaide")
statistic = 'kicks'
team = 'adelaide'
s = which(player_statistics == statistic)
raw_stat_table =  webpage %>%
rvest::html_nodes("table") %>%
.[s] %>%
rvest::html_table(fill = TRUE) %>% as.data.frame()
n = nrow(raw_stat_table)
stat_table = raw_stat_table[2:n,]
names(stat_table) = raw_stat_table[1,]
long_stats <- melt(stat_table,id="Player")
long_stats$value = as.numeric(long_stats$value)
long_stats <- long_stats[!is.na(long_stats$value),]
colnames(long_stats)[2:3] <- c("round",statistic)
if(exists(team)){
assign(team, long_stats)
} else{
assign(team,merge(x=get(team),y=long_stats,by=c("Player","round"),all.x = T))
}
assign(team, long_stats)
exists(team)
rm(team)
exists(team)
team = 'adelaide'
rm(adelaide)
exists(team)
if(exists(team)){
#assign(team, long_stats)
print(1)
} else {
#assign(team,merge(x=get(team),y=long_stats,by=c("Player","round"),all.x = T))
print(2)
}
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage,'adelaide')
library(afltables)
webpage = get_team_year_tables('adelaide', 2018)
get_game_statistics('kicks', webpage,'adelaide')
long_stats <- melt(stat_table,id="Player")
long_stats$value = as.numeric(long_stats$value)
library(afltables)
library(afltables)
library(afltables)
library(afltables)
library(afltables)
library(afltables)
team_season_player("adelaide")
library(afltables)
team_season_player("adelaide",2018)
q()
setwd("/home/")
setwd("/home/Documents/Github")
setwd("/home/Documents/GitHub")
setwd("/home/Documents/GitHub/football_fun")
setwd("~/Documents/GitHub/football_fun")
setwd("~/Documents/GitHub/football_fun")
afl2015 = read.csv("players_statistics_2015.csv", row.names = F)
afl2016 = read.csv("players_statistics_2016.csv", row.names = F)
afl2017 = read.csv("players_statistics_2017.csv", row.names = F)
afl2018 = read.csv("players_statistics_2018.csv", row.names = F)
afl2015 = read.csv("players_statistics_2015.csv", row.names = NULL)
afl2016 = read.csv("players_statistics_2016.csv", row.names = NULL)
afl2017 = read.csv("players_statistics_2017.csv", row.names = NULL)
afl2018 = read.csv("players_statistics_2018.csv", row.names = NULL)
afl = rbind(afl2015,afl2016,afl2017)
afl = rbind(afl2015,afl2016,afl2017,afl2018)
View(afl)
attach(afl)
afl$score = kicks*3 + handballs*2 + marks*3 + tackles*4 + ff*1 - fa*3 + hitouts + goals*6 + behinds
afl = afl[afl$Player != "Total",]
afl = afl[afl$Player != "Total",]
afl = afl[afl$Player != "Totals",]
afl$score = kicks*3 + handballs*2 + marks*3 + tackles*4 + ff*1 - fa*3 + hitouts + goals*6 + behinds
attach(afl)
afl$score = kicks*3 + handballs*2 + marks*3 + tackles*4 + ff*1 - fa*3 + hitouts + goals*6 + behinds
library(dyplr)
library(dplyr)
players = afl %>% group_by(Player) %>% summarise(mean = mean(score), sd= sd(score),n=n())
View(players)
players = afl %>% group_by(Player, year) %>% summarise(mean = mean(score), sd= sd(score),n=n())
players_year = afl %>% group_by(Player, year) %>% summarise(mean = mean(score), sd= sd(score),n=n())
players_year = afl %>% group_by(Player, year) %>% summarise(mean = mean(score), sd= sd(score),n=n())
players_player = afl %>% group_by(Player) %>% summarise(mean = mean(score), sd= sd(score),n=n())
View(players_player)
View(players_year)
players_2018 = players_year %>% filter(year==2018)
View(players_2018)
q()
